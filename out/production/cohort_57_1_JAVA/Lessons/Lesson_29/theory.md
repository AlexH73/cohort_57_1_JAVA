Урок 29: equals() & hasCode() определение равенства объектов и Comparator - сравнение объектов + сортировка List
-
## Object

Object - это стандартный класс Java. Является "супер-классом", от которого автоматически наследуется любой класс в Java. Зачем нужен этот класс? - он содержит поведение и состояние, которое необходимо для всех классов в Java.

Класс Object в Java содержит в том числе методы equals, toString, hashCode, getClass, которые полезны сами по себе, но и могут быть переопределены в дочерних классах.

**Что делают эти методы?** **toString** - преобразование объекта в строку **equals** - сравнение объектов на предмет равенства (сравнивает по значениям полей) **hashCode** - сопоставить объекту некоторое числовое значение int, Метод **getClass** позволяет получить тип объекта: `Person tom = new Person("Tom"); System.out.println(tom.getClass()); // class Person`

## Сравнение объектов equals()

## В чем проблема?

Как понять какие, например, Peron-ы равны друг другу. По каким полям? Person c именем John равен другому Person с именем John или нет? или необходимо сравнить и возраст?

## Решение

Сравнивать объекты через "==" некорректно, т. к. "==" сравнивает формально ссылки, т. е. адреса объектов в памяти, а они разные. Необходимо написать метод, который будет сравнивать объекты используя нужную логику, сравнивать значение заданный полей. В Java это метод equals. Если хотим, чтобы объекты нашего класса сравнивались между собой по нужным нам полям, то надо переопределить метод equals в нашем классе, указав в нем логику сравнения одного заданного объекта с другим.

Этот метод наследуется от класса Object, в котором он определен. Этот метод для своего класса надо переопределить, так как все наши классы - это наследники класса Object, а в нем этот метод есть.

Как работает метод equals? На примере класса Computer:

```java
    `public boolean equals(Object obj) {   // сигнатура метода - модификаторы, тип возвр. значения, аргументы
     if (!(obj instanceof Computer)) {    //  проверка, что объект взят из класса Computer
         return false;  
         }    
     Computer other = (Computer)obj;    // downcastind 
     return brand.equals(other.brand)   // сравниваем по полям
            && cpu.equals(other.cpu) 
            && ram == other.ram 
            && ssd == other.ssd;
        
     }`
```
instanceof - возвращает boolean, проверяет, принадлежит ли объект указанному классу. Computer other = (Computer) obj; - это downcasting объекта obj типа Object до объекта типа Computer.

## hashCode()

Хэш-код — это целочисленное значение (int), которое представляет собой "подпись" объекта и используется, для быстрого сравнения объектов, например, в структурах данных, таких как HashMap, HashSet и HashTable.

-   Если два объекта равны (`equals() == true`), их hashCode() **должен быть одинаковым**.
-   Если два объекта не равны (`equals() == false`), их hashCode() может быть одинаковым,- но желательно, чтобы был разным.

## Интерфейсы Comparable и Comparator.

[Сравнение объектов](https://docs.google.com/document/d/1zkqhZlJfYgmO9MUU1aBV_lRryp5WZib6Tou8jWXHg5k/edit?usp=sharing)

