package Homework.lesson_27.game_character;

/**
 * –ê–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–π –∫–ª–∞—Å—Å –¥–ª—è –±–∞–∑–æ–≤–æ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞.
 * –£—Å—Ç—Ä–∞–Ω—è–µ—Ç –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞ –≤ –Ω–∞—Å–ª–µ–¥–Ω–∏–∫–∞—Ö.
 */
public abstract class BaseGameCharacter implements GameCharacter, Targetable {
    protected String name;
    protected int health;
    protected GameCharacter target;
    protected static final int MAX_HEALTH = 100;  // –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∑–¥–æ—Ä–æ–≤—å–µ

    public BaseGameCharacter(String name) {
        this.health = MAX_HEALTH; // –°—Ç–∞—Ä—Ç–æ–≤–æ–µ –∑–¥–æ—Ä–æ–≤—å–µ
        this.name = name;
    }

    /**
     * –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–≥–æ —É—Ä–æ–≤–Ω—è –∑–¥–æ—Ä–æ–≤—å—è
     * @return –¢–µ–∫—É—â–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –∑–¥–æ—Ä–æ–≤—å—è (0-100)
     */
    @Override
    public int getHealth() {
        return health;
    }

    /**
     * –ü–æ–ª—É—á–µ–Ω–∏–µ –∏–º–µ–Ω–∏ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞
     * @return –°—Ç—Ä–æ–∫–∞ —Å –∏–º–µ–Ω–µ–º –ø–µ—Ä—Å–æ–Ω–∞–∂–∞
     */
    @Override
    public String getName() {
        return name;
    }

    /**
     * –û–±—Ä–∞–±–æ—Ç–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è —É—Ä–æ–Ω–∞/–ª–µ—á–µ–Ω–∏—è
     * @param damage –ó–Ω–∞—á–µ–Ω–∏–µ —É—Ä–æ–Ω–∞ (–ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–æ–µ) –∏–ª–∏ –ª–µ—á–µ–Ω–∏—è (–æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–æ–µ)
     */
    @Override
    public void takeDamage(int damage) {
        // –ó–∞—â–∏—Ç–∞ –æ—Ç –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–æ–≥–æ –∑–¥–æ—Ä–æ–≤—å—è
        health = Math.max(0, health - damage);

        // –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ —Å–º–µ—Ä—Ç—å –ø–µ—Ä—Å–æ–Ω–∞–∂–∞
        if (health == 0) {
            System.out.println("üíÄ " + name + " –ø–æ–≥–∏–±!");
        }
    }

    /**
     * –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ü–µ–ª–∏ –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è
     * @param target –¶–µ–ª–µ–≤–æ–π –∏–≥—Ä–æ–≤–æ–π –ø–µ—Ä—Å–æ–Ω–∞–∂
     * (–º–æ–∂–µ—Ç –±—ã—Ç—å –∫–∞–∫ –ø—Ä–æ—Ç–∏–≤–Ω–∏–∫–æ–º –¥–ª—è –∞—Ç–∞–∫–∏, —Ç–∞–∫ –∏ —Å–æ—é–∑–Ω–∏–∫–æ–º –¥–ª—è –ª–µ—á–µ–Ω–∏—è)
     */
    @Override
    public void setTarget(GameCharacter target) {
        this.target = target;
    }

    /**
     * –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–π —Ü–µ–ª–∏
     * @return –¢–µ–∫—É—â–∏–π —Ü–µ–ª–µ–≤–æ–π –ø–µ—Ä—Å–æ–Ω–∞–∂ –∏–ª–∏ null, –µ—Å–ª–∏ —Ü–µ–ª—å –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞
     */
    @Override
    public GameCharacter getTarget() {
        return target;
    }

    /**
     * –û—Å–Ω–æ–≤–Ω–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞ –≤ —Ä–∞—É–Ω–¥–µ (–¥–æ–ª–∂–Ω–æ –±—ã—Ç—å —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –≤ –Ω–∞—Å–ª–µ–¥–Ω–∏–∫–∞—Ö)
     * –í –±–∞–∑–æ–≤–æ–º –∫–ª–∞—Å—Å–µ –æ–±—ä—è–≤–ª–µ–Ω –∫–∞–∫ –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–π –¥–ª—è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
     */
    @Override
    public abstract void performAction();
}
